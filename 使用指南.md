# 🎮 俄罗斯方块 - 增强版使用指南

欢迎来到俄罗斯方块增强版！本指南将帮助您充分利用游戏的所有功能。

---

## 📋 目录

1. [快速开始](#快速开始)
2. [游戏控制](#游戏控制)
3. [核心功能](#核心功能)
4. [主题系统](#主题系统)
5. [设置菜单](#设置菜单)
6. [常见问题](#常见问题)

---

## 🚀 快速开始

### 安装依赖

```bash
pip install pygame
```

### 运行游戏

```bash
python tetris_enhanced.py
```

### 开始游戏

1. 启动游戏后，按 **空格键** 或 **回车键** 开始
2. 倒计时 3 秒后游戏开始
3. 使用方向键控制方块
4. 按 **P** 暂停，**Q** 退出

---

## 🕹️ 游戏控制

### 基础操作

| 按键 | 功能 | 说明 |
|------|------|------|
| **← →** | 左右移动 | 移动方块位置 |
| **↑** | 旋转 | 顺时针旋转方块 |
| **↓** | 软降 | 加速下落 |
| **空格** | 硬降 | 瞬间落地 |

### 系统功能

| 按键 | 功能 | 说明 |
|------|------|------|
| **ESC** | 设置菜单 | 打开/关闭设置面板 |
| **P** | 暂停 | 暂停/继续游戏 |
| **R** | 重新开始 | 重置游戏并切换主题 |
| **N** | 霓虹模式 | 切换发光特效 |
| **M** | 静音 | 切换音效 |
| **Tab** | 统计面板 | 查看详细统计 |
| **H** | 成就面板 | 查看成就进度 |
| **Q** | 退出 | 关闭游戏 |

---

## ✨ 核心功能

### 1. 🎨 主题系统

游戏包含 **6个独特的主题**，每个主题都有独特的配色、音乐和背景特效：

| 主题 | 描述 | 音乐风格 | 背景特效 |
|------|------|----------|----------|
| 🌆 **霓虹城市** | 赛博朋克风格 | 电子乐-大调 | 垂直渐变 |
| 🚀 **太空科幻** | 深邃星空 | 宁静-大调 | 星空闪烁 |
| 🎮 **复古像素** | 8-bit怀旧 | 复古-大调 | 浮动方块 |
| 🌊 **海洋世界** | 深海探险 | 宁静-大调 | 波浪动画 |
| 🌅 **日落黄昏** | 温暖黄昏 | 宁静-小调 | 垂直渐变 |
| 🌲 **森林秘境** | 自然清新 | 宁静-大调 | 极光效果 |

**主题切换方式：**
- **启动时**：随机选择一个主题
- **按R重新开始**：自动切换到新主题
- **设置菜单**：点击"🎨 主题"下拉框选择

### 2. 🎵 动态音乐系统

**音乐特点：**
- ✅ 程序生成，无需外部音频文件
- ✅ 8秒循环旋律
- ✅ 多种调式（大调/小调）
- ✅ 多种风格（电子/复古/宁静）
- ✅ 和弦效果（主音+三度+五度）
- ✅ 低音贝斯增强
- ✅ 淡入淡出包络

**控制方式：**
- 在设置菜单中开关背景音乐
- 音乐音量和音效音量独立控制
- 主题切换时音乐自动更新

### 3. 🏆 成就系统

游戏包含多种成就，例如：

- 🎯 **初出茅庐** - 完成一局游戏
- 💯 **完美发挥** - 达到等级5
- 🌟 **四连专家** - 消除4行
- 🔥 **连击大师** - 达到5连击
- 🏃 **马拉松** - 游戏时间超过10分钟
- 💎 **不朽传奇** - 游戏时间超过1小时

按 **H键** 查看成就面板，了解您的解锁进度。

### 4. 📊 统计系统

游戏自动记录：
- 游戏次数
- 总游戏时间
- 最高分数
- 最高等级
- 消除总行数
- 方块使用统计

按 **Tab键** 查看统计面板。

### 5. 🎯 连击系统

连续消除行数会获得连击奖励：
- **2连击**：额外50%分数
- **3连击**：额外100%分数
- **4连击及以上**：额外150%分数

连击时会有华丽的特效和浮动文字提示。

---

## ⚙️ 设置菜单

### 打开设置

游戏中按 **ESC键** 打开设置菜单。

### 可调整的设置

#### 左列：开关设置

| 设置项 | 说明 |
|--------|------|
| **音效** | 开启/关闭游戏音效 |
| **背景音乐** | 开启/关闭背景音乐 |
| **幽灵方块** | 显示/隐藏方块落地预览 |
| **霓虹模式** | 开启/关闭炫酷发光效果 |

#### 右列：音量与主题

| 设置项 | 说明 |
|--------|------|
| **音乐音量** | 拖动滑块调整（0-100%） |
| **音效音量** | 拖动滑块调整（0-100%） |
| **🎨 主题** | 下拉框选择6个主题之一 |

### 其他面板

在设置菜单中可以访问：

- **按K键**：键位绑定面板 - 自定义所有按键
- **底部红色按钮**：恢复所有数据到出厂设置

### 关闭设置

- 按 **ESC键** 关闭设置菜单
- 设置会自动保存

---

## 🎮 游戏机制

### 评分系统

| 消除行数 | 分数 | 加成 |
|---------|------|------|
| 1行 | 100 × 等级 | 基础分数 |
| 2行 | 300 × 等级 | +0% |
| 3行 | 500 × 等级 | +0% |
| 4行 | 800 × 等级 | +0% |
| 连击 | 额外加分 | 50%-150% |

### 等级系统

- 每消除 **10行** 升一级
- 等级越高，下落速度越快
- 速度公式：`500 - (level - 1) × 50` 毫秒
- 最高等级不受限制

### 方块类型

7种经典俄罗斯方块：
- **I** - 青色长条（4格）
- **O** - 黄色方块（2×2）
- **T** - 紫色T形（3格+1）
- **L** - 橙色L形（3格+1）
- **J** - 蓝色J形（3格+1）
- **Z** - 红色Z形（2+2）
- **S** - 绿色S形（2+2）

---

## 🔧 高级功能

### 自定义键位

1. 按 **ESC** 打开设置
2. 按 **K** 进入键位绑定面板
3. 点击要修改的操作（金色高亮）
4. 按下新的按键
5. 自动保存并立即生效

可自定义所有游戏操作，包括移动、旋转、暂停等。

### 幽灵方块

- 显示方块落地位置预览
- 帮助精确放置
- 可在设置中开关

### 霓虹模式

- 炫酷的发光效果
- 方块和边框发光
- 可在设置中切换

---

## 💾 数据文件

游戏会自动创建以下文件（在游戏目录下）：

```
tetris_settings.json      # 游戏设置
tetris_keybinds.json      # 键位绑定
tetris_statistics.json    # 统计数据
tetris_achievements.json  # 成就记录
tetris_leaderboard.json   # 排行榜
```

这些文件会在游戏运行时自动生成和更新。

---

## 📈 提高分数的技巧

### 基础技巧

1. **规划落点** - 使用幽灵方块预览最佳位置
2. **保持平整** - 避免形成空洞
3. **优先消除** - 及时消除行，避免堆积过高
4. **学会旋转** - 熟练掌握7种方块的旋转特性

### 高级技巧

1. **连击策略** - 累积多行后一次性消除
2. **T-Spin** - 使用T方块旋转消除（高难度）
3. **保持冷静** - 速度加快后不要慌张
4. **使用硬降** - 空格键瞬间落地，节省时间

### 主题利用

- **太空/海洋主题**：音乐舒缓，适合长时间游玩
- **霓虹/复古主题**：节奏明快，适合冲分
- **森林/日落主题**：视觉舒适，适合放松

---

## 🐛 常见问题

### **Q: 背景音乐不播放？**
- 确保在设置中开启了"背景音乐"开关
- 检查音乐音量是否为0
- 尝试重新启动游戏

### **Q: 游戏运行缓慢？**
- 关闭霓虹模式（按N键）
- 降低窗口大小
- 关闭其他占用CPU的程序

### **Q: 按键不响应？**
- 检查是否在键位绑定模式
- 按ESC退出所有面板
- 尝试重新启动游戏

### **Q: 如何重置所有数据？**
- 按ESC打开设置
- 点击底部的红色"恢复所有数据到出厂设置"按钮

### **Q: 主题切换后音乐没变？**
- 主题切换会重新生成音乐
- 可能需要1-2秒缓冲时间
- 确保背景音乐开关已开启

### **Q: 统计数据丢失？**
- 检查tetris_statistics.json文件是否存在
- 文件损坏会被自动重新创建
- 数据无法恢复，请注意备份

---

## 🎨 界面主题

不同面板使用不同颜色主题：

- **设置菜单**：紫色边框
- **键位绑定**：金色边框
- **统计面板**：蓝色边框
- **成就面板**：金色边框

---

## 🚀 系统要求

- **操作系统**: Windows 10/11
- **Python**: 3.6 或更高版本
- **Pygame**: 2.0 或更高版本
- **内存**: 100MB 以上
- **存储**: 10MB 可用空间

---

## 📚 技术亮点

### 模块化设计
- `SettingsManager` - 设置管理器
- `KeyBindManager` - 键位管理器
- `SoundManager` - 音效管理器
- `ThemeManager` - 主题管理器
- `AnimationManager` - 动画管理器

### 用户体验
- 图形化界面，直观易用
- 半透明遮罩，不遮挡游戏
- 实时反馈，即时生效
- 持久化保存，自动加载

### 技术创新
- 程序生成音乐（无需外部文件）
- 6个完整的主题系统
- 动态背景特效
- 粒子效果系统

---

## 🎯 未来计划

- [ ] Hold功能（暂存方块）
- [ ] 扩展的下一个方块队列
- [ ] T-Spin检测和奖励
- [ ] 更多游戏模式（冲刺、马拉松等）
- [ ] 在线排行榜
- [ ] 每日挑战

---

## 📞 获取帮助

如有问题或建议，欢迎访问GitHub仓库：
**https://github.com/Sefucius/tetris_enhanced**

---

**版本**: Enhanced v1.0
**更新时间**: 2025-01-14
**开发状态**: ✅ 完成并测试

---

**祝游戏愉快！🎉**
